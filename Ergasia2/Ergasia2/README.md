# code
ΜΕΛΗ ΟΜΑΔΑΣ 76:
1. Εργίνα Δημήτραινα , Α.Μ. : 1115-2021-00031
2. Ανδριάνα Μισαηλίδη , Α.Μ. : 1115-2021-00103
3. Μαρίνα Παπαδημητρίου , Α.Μ.: 1115-2021-00136


Επεξήση λειτουργίας των συναρτήσεων του hash_file.c




*hashFunction(int id, int depth): 
Η συνάρτηση αρχικοποιεί μια μεταβλητή δείκτη με την τιμή του id εισόδου και μια μεταβλητή αντίστροφου δείκτη στο μηδέν. Στη συνέχεια εισέρχεται σε έναν βρόχο που επαναλαμβάνει 32 φορές, που αντιστοιχεί στο υποτιθέμενο μέγεθος των ακεραίων 32 bit. Σε κάθε επανάληψη, το λιγότερο σημαντικό bit του δείκτη γίνεται bitwise OR με την τρέχουσα κατάσταση του αντίστροφου δείκτη αφού μετατοπιστεί αριστερά κατά ένα bit. Αυτή η διαδικασία αντιστρέφει ουσιαστικά τα bit του αρχικού δείκτη. Το λιγότερο σημαντικό bit του δείκτη μετατοπίζεται στη συνέχεια προς τα δεξιά, απορρίπτοντας το επεξεργασμένο bit. Μετά την ολοκλήρωση του βρόχου, ο αντίστροφος δείκτης περιέχει την αντιστραμμένη αναπαράσταση του id εισόδου. Αξίζει να σημειωθεί ότι η συνάρτηση προς το παρόν δεν διαθέτει δήλωση επιστροφής, οπότε αν σκοπεύετε να χρησιμοποιήσετε την προκύπτουσα τιμή κατακερματισμού, θα πρέπει να προσθέσετε return reverseIndex; στο τέλος της συνάρτησης.Για την λογική αυτης της συνάρτησης συμβουλευτήκαμε αντίστοιχες πηγές στο διαδίκτυο .

Έχουμε τις συναρτήσεις HT:
*HT_Init(): αρχικοποιεί έναν πίνακα κατακερματισμού βάζοντας σε όλες τις θέσεις σαν αναγνωριστικό αρχείου το -1.

*HT_CreateIndex(): δημιουργεί έναν μοναδίκο ακέραιο για κάθε αρχείο ως αναγνωριστικό του.

*HT_OpenIndex(const char* fileName,int* indexDesc): ανοίγει το αρχείο με το δεδομένο indexDesc.

*HT_CloseFile(int indexDesc): κλείνει το αρχείο  με το δεσδομένο indexDesc και το κάνει -1.

*HT_InsertEntry(int indexDesc,Record record): 
Η συνάρτηση HT_InsertEntry είναι υπεύθυνη για την εισαγωγή μιας νέας εγγραφής (record) σε έναν πίνακα κατακερματισμού. Ακολουθεί μια ανάλυση των βασικών λειτουργιών της:

Παράμετροι εισόδου:

int indexDesc: Περιγραφικός δείκτης που υποδεικνύει τον πίνακα κατακερματισμού στον οποίο πρόκειται να λειτουργήσει.
Record record: Η εγγραφή που πρόκειται να εισαχθεί στον πίνακα κατακερματισμού.
Έλεγχος της περιγραφής ευρετηρίου:

Η συνάρτηση ελέγχει αν το παρεχόμενο indexDesc είναι εντός έγκυρου εύρους και αντιστοιχεί σε ανοικτό αρχείο πίνακα κατακερματισμού. Εάν όχι, επιστρέφει HT_ERROR.
Ανάκτηση πληροφοριών πίνακα κατακερματισμού:

Ανακτά τις πληροφορίες του πίνακα κατακερματισμού από το πρώτο μπλοκ (μπλοκ 0) του αρχείου πίνακα κατακερματισμού, συμπεριλαμβανομένου του βάθους του πίνακα κατακερματισμού.
Υπολογισμός της θέσης κατακερματισμού:

Χρησιμοποιεί τη συνάρτηση κατακερματισμού (hashFunction) για να υπολογίσει τη θέση στην οποία πρέπει να εισαχθεί η εγγραφή με βάση το αναγνωριστικό της και το τρέχον βάθος του πίνακα κατακερματισμού.
Διασχίζοντας τον πίνακα κατακερματισμού:

Διατρέχει τον πίνακα κατακερματισμού για να βρει το μπλοκ (bucket) όπου πρέπει να εισαχθεί η εγγραφή.
Σενάρια εισαγωγής:

Ανάλογα με την κατάσταση του εντοπισμένου κάδου, η συνάρτηση χειρίζεται τρία(3) σενάρια:

Περίπτωση 1: Διαχωρισμός κάδου:
Εάν ο κάδος είναι γεμάτος και το βάθος του πίνακα κατακερματισμού είναι μεγαλύτερο από το τοπικό βάθος του κάδου, ξεκινά μια διαδικασία διαχωρισμού κάδου. Αυτό περιλαμβάνει τη δημιουργία ενός νέου κάδου, την ανακατανομή των εγγραφών μεταξύ του παλιού και του νέου κάδου, την ενημέρωση των δεικτών και την αναδρομική κλήση του HT_InsertEntry για να χειριστεί τον πίνακα κατακερματισμού με νέο μέγεθος.
Χειρισμός αλλαγής μεγέθους του πίνακα κατακερματισμού:


Εάν ο πίνακας κατακερματισμού αλλάξει μέγεθος κατά τη διαδικασία διαχωρισμού του κάδου, η συνάρτηση καλείται αναδρομικά με το αρχικό indexDesc και την ίδια εγγραφή.
Τιμές επιστροφής:

Περίπτωση 2: Δημιουργία νέου κάδου:
Εάν ο προσδιοριζόμενος κάδος δεν υπάρχει, δημιουργείται ένας νέος κάδος και εισάγεται η εγγραφή.

Περίπτωση 3: Υπάρχων κάδος με επαρκή χώρο:
Εάν ο κάδος υπάρχει και έχει χώρο, η εγγραφή εισάγεται στον υπάρχοντα κάδο.

Επιστρέφει HT_OK εάν η εισαγωγή είναι επιτυχής- διαφορετικά, επιστρέφει HT_ERROR σε περίπτωση αποτυχίας.



*HT_PrintAllEntries(int indexDesc, int* id): Η συνάρτηση HT_PrintAllEntries είναι υπεύθυνη για την εκτύπωση πληροφοριών σχετικά με τις εγγραφές (records) στον πίνακα κατακερματισμού. 
Παράμετροι εισόδου:
int indexDesc: Περιγραφικός δείκτης που υποδεικνύει τον πίνακα κατακερματισμού στον οποίο πρόκειται να λειτουργήσει.
int* id: (Προαιρετικά) Δείκτης σε ένα αναγνωριστικό. Εάν παρέχεται, η συνάρτηση εκτυπώνει πληροφορίες σχετικά με την εγγραφή με το καθορισμένο ID- εάν είναι NULL, εκτυπώνει πληροφορίες σχετικά με όλες τις εγγραφές στον πίνακα κατακερματισμού.

Έλεγχος περιγραφής ευρετηρίου:
Η συνάρτηση ελέγχει εάν το παρεχόμενο indexDesc βρίσκεται εντός έγκυρου εύρους και αντιστοιχεί σε ανοικτό αρχείο πίνακα κατακερματισμού. Εάν όχι, επιστρέφει HT_ERROR.

Ανάκτηση πληροφοριών πίνακα κατακερματισμού:
Ανακτά τις πληροφορίες του πίνακα κατακερματισμού από το πρώτο μπλοκ (μπλοκ 0) του αρχείου πίνακα κατακερματισμού.

Εκτύπωση καταχωρήσεων:
Εάν παρέχεται ένα αναγνωριστικό, η συνάρτηση εκτυπώνει πληροφορίες σχετικά με την εγγραφή με αυτό το αναγνωριστικό και τον αντίστοιχο κάδο.
Εάν το id είναι NULL, η συνάρτηση διατρέχει όλα τα μπλοκ (buckets) του πίνακα κατακερματισμού, εκτυπώνοντας πληροφορίες για όλες τις εγγραφές σε κάθε bucket.

Τιμές επιστροφής:
Επιστρέφει HT_OK εάν η εκτύπωση είναι επιτυχής- διαφορετικά, επιστρέφει HT_ERROR σε περίπτωση αποτυχίας.

Στο Makefile προσθέσαμε στην γραμμή για το compilation την βιβλιοθήκη math (-lm) 
